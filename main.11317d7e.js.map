{"version":3,"sources":["scripts/main.js"],"names":["tableHead","document","querySelector","tableBody","rows","querySelectorAll","columnSalary","sortDirection","convertSalary","salary","slice","split","join","addEventListener","e","columnIndex","target","cellIndex","sortColumn","children","sort","a","b","colA","innerText","colB","localeCompare","reverse","forEach","item","append","row","index","line","classList","remove","add","pushNotification","posTop","posRight","title","description","type","body","div","createElement","divTitle","divDescription","textContent","style","top","right","setTimeout","form","nameLabel","nameInput","setAttribute","required","appendChild","positionLabel","positionInput","officeLabel","officeSelect","offices","office","option","value","ageLabel","ageInput","salaryLabel","salaryInput","submitButton","preventDefault","person","trim","position","age","parseInt","parseFloat","length","newRow","insertRow","insertCell","input","td","width","getComputedStyle","content","selectCity","city","focus","valueInput","toLocaleString","ev","code"],"mappings":"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","file":"main.11317d7e.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst tableHead = document.querySelector('thead');\nconst tableBody = document.querySelector('tbody');\nconst rows = tableBody.querySelectorAll('tr');\n\n// sort table\n\nconst columnSalary = 4;\nlet sortDirection = 'asc';\n\nfunction convertSalary(salary) {\n  const noCurrency = salary.slice(1);\n\n  return +noCurrency.split(',').join('');\n}\n\ntableHead.addEventListener('click', e => {\n  const columnIndex = e.target.cellIndex;\n\n  const sortColumn = [...tableBody.children].sort((a, b) => {\n    const colA = a.querySelectorAll('td')[columnIndex].innerText;\n    const colB = b.querySelectorAll('td')[columnIndex].innerText;\n\n    if (columnIndex === columnSalary) {\n      return convertSalary(colA) - convertSalary(colB);\n    } else {\n      return colA.localeCompare(colB);\n    }\n  });\n\n  if (sortDirection === 'desc') {\n    sortColumn.reverse();\n    sortDirection = 'asc';\n  } else {\n    sortDirection = 'desc';\n  }\n\n  sortColumn.forEach(item => tableBody.append(item));\n});\n\n// add class active to selected row\n\n[...rows].forEach((row, index) => {\n  row.addEventListener('click', e => {\n    [...rows].forEach(line => {\n      line.classList.remove('active');\n    });\n\n    if (index !== 0) {\n      row.classList.add('active');\n    }\n  });\n});\n\n// notifications\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const body = document.querySelector('body');\n  const div = document.createElement('div');\n  const divTitle = document.createElement('h2');\n  const divDescription = document.createElement('p');\n\n  div.classList = 'notification ' + type;\n  divTitle.classList = 'title';\n\n  divTitle.textContent = title;\n  divDescription.textContent = description;\n\n  body.append(div);\n  div.append(divTitle);\n  div.append(divDescription);\n\n  div.style.top = posTop + 'px';\n  div.style.right = posRight + 'px';\n\n  setTimeout(() => {\n    div.remove();\n  }, 3000);\n};\n\n// add form\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\n// Name\nconst nameLabel = document.createElement('label');\n\nnameLabel.textContent = 'Name: ';\n\nconst nameInput = document.createElement('input');\n\nnameInput.setAttribute('name', 'name');\nnameInput.setAttribute('type', 'text');\nnameInput.setAttribute('data-qa', 'name');\nnameInput.required = true;\nnameLabel.appendChild(nameInput);\nform.appendChild(nameLabel);\n\n// Position\nconst positionLabel = document.createElement('label');\n\npositionLabel.textContent = 'Position: ';\n\nconst positionInput = document.createElement('input');\n\npositionInput.setAttribute('name', 'position');\npositionInput.setAttribute('type', 'text');\npositionInput.setAttribute('data-qa', 'position');\npositionInput.required = true;\npositionLabel.appendChild(positionInput);\nform.appendChild(positionLabel);\n\n// Office\nconst officeLabel = document.createElement('label');\n\nofficeLabel.textContent = 'Office: ';\n\nconst officeSelect = document.createElement('select');\n\nofficeSelect.setAttribute('name', 'office');\nofficeSelect.setAttribute('data-qa', 'office');\nofficeSelect.required = true;\n\nconst offices = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco'];\n\noffices.forEach(office => {\n  const option = document.createElement('option');\n\n  option.value = office;\n  option.textContent = office;\n  officeSelect.appendChild(option);\n});\n\nofficeLabel.appendChild(officeSelect);\nform.appendChild(officeLabel);\n\n// Age\nconst ageLabel = document.createElement('label');\n\nageLabel.textContent = 'Age: ';\n\nconst ageInput = document.createElement('input');\n\nageInput.setAttribute('name', 'age');\nageInput.setAttribute('type', 'number');\nageInput.setAttribute('data-qa', 'age');\nageInput.required = true;\nageLabel.appendChild(ageInput);\nform.appendChild(ageLabel);\n\n// Salary\nconst salaryLabel = document.createElement('label');\n\nsalaryLabel.textContent = 'Salary: ';\n\nconst salaryInput = document.createElement('input');\n\nsalaryInput.setAttribute('name', 'salary');\nsalaryInput.setAttribute('type', 'number');\nsalaryInput.setAttribute('data-qa', 'salary');\nsalaryInput.required = true;\nsalaryLabel.appendChild(salaryInput);\nform.appendChild(salaryLabel);\n\n// Button\nconst submitButton = document.createElement('button');\n\nsubmitButton.setAttribute('type', 'submit');\nsubmitButton.textContent = 'Save to table';\nform.appendChild(submitButton);\n\n// Add form submit event listener\nform.addEventListener('submit', function(e) {\n  e.preventDefault();\n\n  // Get form data\n  const person = nameInput.value.trim();\n  const position = positionInput.value.trim();\n  const office = officeSelect.value;\n  const age = parseInt(ageInput.value);\n  const salary = parseFloat(salaryInput.value);\n\n  // error - no new row\n\n  if (person.length < 4) {\n    pushNotification(450, 10, 'Error!',\n      'Name must have minimum 4 letters', 'error');\n\n    return;\n  }\n\n  if (position.length === 0) {\n    pushNotification(450, 10, 'Error!',\n      'Position must have minimum 1 letter', 'error');\n\n    return;\n  }\n\n  if (age < 18 || age > 90) {\n    pushNotification(450, 10, 'Error!',\n      'Age should be more than 18 and less than 90', 'error');\n\n    return;\n  }\n\n  if (salary < 0) {\n    pushNotification(450, 10, 'Error!',\n      'Salary should be more than 0', 'error');\n\n    return;\n  }\n\n  // new row\n  const newRow = tableBody.insertRow();\n\n  const nameCell = newRow.insertCell();\n\n  nameCell.textContent = person;\n\n  const positionCell = newRow.insertCell();\n\n  positionCell.textContent = position;\n\n  const officeCell = newRow.insertCell();\n\n  officeCell.textContent = office;\n\n  const ageCell = newRow.insertCell();\n\n  ageCell.textContent = age;\n\n  const salaryCell = newRow.insertCell();\n\n  salaryCell.textContent = '$' + salary;\n\n  // notifications if statements\n\n  pushNotification(450, 10, 'Success!',\n    'Employee successfully added', 'success');\n});\n\n// Append the form to the document body\ndocument.body.appendChild(form);\n\n// changing cell text\n\ntableBody.addEventListener('dblclick', (e) => {\n  let input = document.createElement('input');\n  const td = e.target;\n  const cellIndex = td.cellIndex;\n\n  input.style.width = getComputedStyle(td).width;\n  input.classList.add('cell-input');\n\n  const content = e.target.textContent;\n\n  e.target.textContent = '';\n\n  if (cellIndex > 2) {\n    input.setAttribute('type', 'number');\n  }\n\n  // cities\n\n  if (cellIndex === 2) {\n    const selectCity = document.createElement('select');\n    const cities = [\n      `Tokyo`,\n      `Singapore`,\n      `London`,\n      `New York`,\n      `Edinburgh`,\n      `San Francisco`,\n    ];\n\n    cities.forEach((option) => {\n      const city = document.createElement('option');\n\n      city.textContent = option;\n      selectCity.append(city);\n    });\n    input = selectCity;\n  }\n\n  // append input\n  e.target.append(input);\n\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    const valueInput = input.value;\n\n    if (valueInput.length > 3 && td.cellIndex <= 2) {\n      td.textContent = valueInput;\n    } else if (cellIndex === 3 && +valueInput > 17 && +valueInput < 91) {\n      td.textContent = valueInput;\n    } else if (cellIndex === 4 && +valueInput > 0) {\n      td.textContent = '$' + (+valueInput).toLocaleString('en-US');\n    } else {\n      td.textContent = content;\n    }\n\n    input.remove();\n  });\n\n  tableBody.addEventListener('keydown', (ev) => {\n    if (ev.code === 'Enter') {\n      const valueInput = input.value;\n\n      if (valueInput.length > 3 && td.cellIndex <= 2) {\n        td.textContent = valueInput;\n      } else if (cellIndex === 3 && +valueInput > 17 && +valueInput < 91) {\n        td.textContent = valueInput;\n      } else if (cellIndex === 4 && +valueInput > 0) {\n        td.textContent = '$' + (+valueInput).toLocaleString('en-US');\n      } else {\n        td.textContent = content;\n      }\n    }\n  });\n});\n"]}